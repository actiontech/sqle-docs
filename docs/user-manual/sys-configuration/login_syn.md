---
title: 登录对接
---
# 登录对接
当前登录对接已实现LDAP方式及Oauth2.0方式
## 入口
管理员账号，点击更多按钮，点击系统设置，跳转系统设置页面后，点击“对接登录”标签


## 推送方式
### LDAP
#### 功能说明
SQLE中支持通过配置的方式接入LDAP系统, 如同其他系统一样接受统一的用户管理, 以便于管理员管理SQLE中的用户, 也使得员工无需在使用一套公司内通用账号密码的同时单独记录SQLE的账号密码。
在SQLE中, 如果正确配置并启用了LDAP功能, 用户就可以在登录界面使用LDAP中记录的账号密码进行登录, SQLE会在员工第一次登录时同步此员工的账号和邮箱, 并在以后的登录中均通过LDAP校验此账户

#### 使用场景
当组织配置了LDAP对接登录系统时，平台管理员可进行相关配置。

#### 前置操作
已配置LDAP

#### 操作步骤
点击修改，选择启用LDAP

* LDAP服务器地址：用于LDAP登陆时SQLE找到LDAP服务器的位置
* LDAP服务器端口：用于LDAP登陆时SQLE找到LDAP服务的工作端口
* 连接用户DN：当用户登录时需要先使用管理用户登录到LDAP中查找出登录用户在LDAP中的DN, 再使用查找出的DN和登录用户填写的密码进行LDAP登录校验
* 连接用户密码：连接用户DN登录时的密码
* 查询根DN：用于限定SQLE中LDAP登录的作用范围
* 用户属性名：用于LDAP用户登录时查询登录用户的DN, LDAP中此属性对应的值也将用作此用户第一次登录SQLE自动注册时的用户名
* 用户邮箱属性名：SQLE将根据此属性名从LDAP中获取到用户的邮箱, 并将此邮箱用于此用户第一次登录SQLE自动注册时的用户邮箱

#### 后续操作
修改后用户即可通过LDAP账号登录SQLE平台

### OAuth 2.0【企业版】
#### 功能说明
SQLE中支持通过配置的方式接入OAuth 2.0系统, 如同其他系统一样接受统一的用户管理, 以便于管理员管理SQLE中的用户, 也使得员工无需在使用一套公司内通用账号密码的同时单独记录SQLE的账号密码

在SQLE中, 如果正确配置并启用了OAuth 2.0功能, 用户就可以在登录界面使用第三方登录, SQLE会在员工第一次登录时要求用户绑定或自动创建一个SQLE用户, 并在以后的登录中可以使用OAuth 2.0用户登录, 也可以用绑定的SQLE用户账号密码登录

#### 使用场景
当组织配置了OAuth 2.0对接登录系统时，平台管理员可进行相关配置。

#### 前置操作
已配置OAuth 2.0

#### 操作步骤
点击修改，选择启用OAuth 2.0

* 应用ID：应用的唯一标识, 从要对接的平台申请 , 在OAuth2.0认证过程中，appid的值即为oauth_consumer_key的值
* 应用密钥：appid对应的密钥，访问用户资源时用来验证应用的合法性。在OAuth2.0认证过程中，appkey的值即为oauth_consumer_secret的值
* 外部访问SQLE的地址：格式为 http(s)://ip:port
* oauth2登录授权页面地址：格式类似于 http(s)://ip:port/xxx
* oauth2 access_token 获取地址：格式类似于 http(s)://ip:port/xxx
* oauth2 user id 获取地址：格式类似于 http(s)://ip:port/xxx
* 请求资源范围：此范围由验证服务器定义
* access_token放置位置：SQLE会在获取用户ID时将access_token放在这个key对应的value中, 此参数会作为get请求的参数发送给用户ID获取地址
* 用户ID保存位置：SQLE会尝试使用此key从第三方平台的响应中解析出用户ID,用户ID应当为唯一ID
* 登录按钮文字：用于登录页面按钮提示
* 自动创建并绑定用户：若开启，在通过OAuth2登陆时，若该用户未绑定SQLE用户，SQLE则会根据从OAuth2服务端获取的用户id创建SQLE账户，并且不会跳转到绑定界面，而是进入SQLE主界面

:::tip
当仅允许内网访问SQLE服务时，请确保回调地址的后缀为"/v1/oauth2/callback"。
:::

#### 后续操作
启用后SQLE登录界面出现其他方式跳转登录入口，点击，可跳转至对应登录页面

---
title: 会话SQL扫描
---
当需要监控查询性能、识别瓶颈、以及诊断死锁或锁等待问题时，利用会话SQL智能扫描功能进行有效分析。

### 支持的数据源类型
* MySQL

### 使用场景
除了上线前和上线后的审核，在SQL语句执行过程中，用户往往也需要对其进行监控和审核，用以及时识别出潜在的问题SQL。然而，当前的审核场景往往无法覆盖事中这一环节的审核。为此，SQLE新增了processlist列表审核扫描任务，实现了事前、事中、事后的全覆盖，使得用户可以在SQL语句的整个生命周期内进行审核和管理，从而减少审核时间和工作量。

### 步骤一 开启会话SQL扫描类型

在SQL管控配置中为数据源开启智能扫描，扫描类型选择“会话SQL扫描”，并填写以下字段信息：

* 采集周期：表示SQLE对 MySQL processlist表的采集频率，SQLE将按照该时间间隔进行SQL采集。如果该值过低，会影响实例性能；
* SQL最小执行时间（秒）：表示SQLE对 MySQL processlist 的采集过滤条件，只有大于等于该时间的SQL才会被采集记录。如果为0，则表示不进行过滤；
* 审核规则模板：选择对应的审核规则模板；

点击`提交`，完成数据源上的会话SQL扫描任务配置。


### 步骤二 获取采集结果及审核结果
在扫描详情中查看采集的会话SQL信息及审核结果。
![processlist-audit](img/processlist-audit.png)


